# PromptPal

## Description

PromptPal is an online tool for Marketers that simplifies ChatGPT queries.

It contains a database of Prompts with different categories (SEO, Business Cases, Competitors, etc.) where you only have to add the sector, competition, target, etc. to get a complete answer from ChatGPT.

This saves you time with ChatGPT.

## Built with

-   HTML / CSS / JavaScript / Handlebars
-   npm / MongoDB / NodeJS 
-   ChatGPT API/ Nodemailer / Cloudinary

## User Stories
### Profile

- Homepage - As users, we want to have a page where we can log-in or sign-up.
- Sign-up page - As users, we want to have a section where we can register on the platform.
- Log-in page - As users, we want to have a section where we can log in with our user on the platform.
- Profile page - As users, we want a section where we can see our profile.
- Edit-profile page - As users, we want a section where we can edit our profile.
- Change-password - As users, we want a section where we can change our password.
- Log out - As users, we want to have the ability to exit the platform.

### Prompts
- Prompts - As users, we want to have a database with the prompt templates.
- Create - As users, we want to be able to create our own prompts based on the templates.
- Mis Prompts - As users, we want to be able to see the prompts we have created.

### Ask ChatGPT
- Ask - we want to be able to "ask" ChatGPT about the prompts we have created.

### Responses
- Mis Respuestas - As users, we want to be able to see the answers generated by ChatGPT.

## Server Routes (back-end)

| Route | Method  | Description  |
|---|---|---|
| `/` | `GET` | Main page. Renders `index`   |
| `/sign-up` | `GET` | Sign up form. Renders `auth/signup`  |
| `/sign-up` | `POST` | Check data. If the data is not correct, it renders `auth/signup` again with an error message, else redirects `/profile`  |
| `/log-in` | `GET` | Log-in form. Renders `auth/login` |
| `/log-in` | `POST` | Check data. If the data is not correct, it renders `auth/login` again with an error message, else redirects `/profile` |
| `/profile` | `GET` | Renders `auth/profile` |
| `/edit-profile` | `GET` | Renders `auth/profile-account`, it is a form with the User data |
| `/edit-profile` | `POST` | Uses the modified data to update the User account, redirect `/edit-profile` |
| `/edit-profile/change-password` | `GET` | Change password form. Renders `auth/change-password`  |
| `/edit-profile/change-password` | `POST` | Check passwords. If they are not correct, it renders `auth/change-password` again with an error message, else redirects `/profile` |
| `/log-out` | `GET` | User logout |
| `/prompts` | `GET` | Shows the prompt templates list. Renders `prompts/prompts` |
| `/prompts` | `POST` | Filters the prompt templates list by tag. Renders `prompts/prompts` |
| `/prompts/create` | `GET` | Create a new prompt form. Renders `prompts/new-prompt` |
| `/prompts/create` | `POST` | Creates the new prompt. Redirects `prompts/mis-prompts` |
| `/prompts/mis-prompts` | `GET` | Shows the created prompts list. Renders `prompts/mis-prompts` |
| `/prompts/mis-prompts` | `POST` | Filters the created prompts list by tag and date. Renders `prompts/mis-prompts` |
| `/prompts/:prompt` | `GET` | Shows an specific created prompt. Renders `prompts/prompt.hbs` |
| `/prompts/:prompt/prompt` | `GET` | Shows all the created prompts related to a prompt template. Renders `prompts/related-prompts.hbs` |
| `/prompts/:prompt/prompts` | `GET` | Renders `prompts/associated-prompts.hbs` |
| `/prompts/:prompt/responses` | `GET` | Shows all responses related to a created prompt. Renders `prompts/responses` |
| `/prompts/:prompt/edit` | `GET` | Shows a form with the created prompt. Renders `prompts/edited-prompt` |
| `/prompts/:prompt/edit` | `POST` | Save the modified prompt. Renders `prompts/edited-prompt.hbs` |
| `/prompts/:prompt/delete` | `GET` | Deletes a created prompt. Redirect `prompts/mis-prompts` |
| `/ask/:promptId` | `GET` | Ask ChatGPT form. Renders `ask/ask` |
| `/ask/:promptId` | `POST` | Call the ChatGPT API and get the response. Redirect `/responses/responseId` |
| `/responses` | `GET` | Shows a list with the responses. Renders `responses/responses` |
| `/responses` | `POST` | Filters the responses by tag and date. Renders `responses/responses` | 
| `/responses/:response` | `GET` | Shows one response in details. Render `respones/response.hbs` | 
| `/responses/responseId/delete` | `GET` | Deletes a reponse. Redirect `/responses`| 
| `/responses/responseId/send` | `GET` | Sends an email with the respone. Redirect `/responses`| 



## Models
### Prompt
```javascript
const { Schema, model } = require("mongoose");

const promptSchema = new Schema(
  {
    definition: {
      type: String,
      required: true,
    },
    tag: {
      type: String,
      required: true,
    },
    responses: [{ type: Schema.Types.ObjectId, ref: "Response" }],
    user: { type: Schema.Types.ObjectId, ref: "User" },
    prompt: { type: Schema.Types.ObjectId, ref: "Prompt" },
  },
  {
    timestamps: true,
  }
);

module.exports = model("Prompt", promptSchema);
```
### Response 
```javascript
const { Schema, model } = require("mongoose");

const responseSchema = new Schema(
  {
    query: {
      type: String,
      required: true,
    },
    chatGPTresponse: {
      type: String,
      required: true,
    },
    tag: {
      type: String,
      required: true,
    },
    prompt: { type: Schema.Types.ObjectId, ref: "Prompt" },
    user: { type: Schema.Types.ObjectId, ref: "User" },
  },
  {
    timestamps: true,
  }
);

module.exports = model("Response", responseSchema);
```

### User
```javascript
// TODO: Please make sure you edit the User model to whatever makes sense in this case
const userSchema = new Schema(
  {
    username: {
      type: String,
      required: false,
      unique: true,
      trim: true,
    },
    email: {
      type: String,
      required: true,
      unique: true,
      trim: true,
      lowercase: true,
    },
    password: {
      type: String,
      required: true,
    },
    //AÃ±ado un campo opcional al modelo de user donde indicar el sector
    industry: {
      type: String,
    },
    profilePic: {
      type: String,
    },
  },
  {
    // this second object adds extra properties: `createdAt` and `updatedAt`
    timestamps: true,
  }
);

const User = model("User", userSchema);

module.exports = User;
```

## Links


### Git

[Repository Link](https://github.com/gitjonc/PromptPal)

[Deploy Link](https://promptpal.fly.dev/)

  

### Slides

[Slides Link](https://slides.com/jaeg90/historia-de-un-proyecto)
